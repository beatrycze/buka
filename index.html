<html>
<head>
    <title>Buka</title>
    <link href="node_modules/bootstrap/dist/css/bootstrap.css" rel="stylesheet">
    <link href="node_modules/bootstrap-submenu/dist/css/bootstrap-submenu.min.css" rel="stylesheet">
    <link href="app.css" rel="stylesheet">
    <script src="node_modules/jquery/dist/jquery.js"></script>
    <script src="node_modules/bootstrap/dist/js/bootstrap.js"></script>
    <script src="node_modules/bootstrap-submenu/dist/js/bootstrap-submenu.js" defer></script>
    <script src="node_modules/handlebars/dist/handlebars.js"></script>
    <!--
    <script src="src/app.js"></script>
    <script src="src/utils.js"></script>
    <script src="src/model.js"></script>
    -->
    <script src="dist/all.js"></script>
    <script src="dist/templates.js"></script>
</head>
<body>
    <!--
    <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                </button>
                <a id="home-page" class="navbar-brand" href="#">BUKA</a>
            </div>
            <div id="navbar" class="collapse navbar-collapse">
                <ul id="main-menu" class="nav navbar-nav">
                    <li id="my-library" class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">My library<span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li><a id ="paper-book-filter" href="#">Paper books</a></li>
                            <li><a id ="e-book-filter" href="#">E-books</a></li>
                            <li><a id ="audiobook-filter" href="#">Audiobooks</a></li>
                            <li><a id ="all-books-filter" href="#">All books</a></li>
                            <li role="separator" class="divider"></li>
                            <li class="dropdown-header">Search by</li>
                            <li><a id ="form-filter" href="#">Forms</a></li>
                            <li><a id ="genre-filter" href="#">Genres</a></li>
                            <li><a id ="multi-filter" href="#">All filters</a></li>
                        </ul>
                        </li>
                    <li id="add-book-form"><a href="#add-book">Add book</a></li>
                    <li id="wish-list-page"><a href="#wish-list">Wish list</a></li>
                </ul>
            </div>
        </div>
    </nav>
    -->

    <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="navbar-header">
            <button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#navbar"
                aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <a id="home-page" class="navbar-brand" href="#">BUKA</a>
        </div>

        <div id="navbar" class="navbar-collapse collapse in" aria-expanded="true">
            <ul id="main-menu" class="nav navbar-nav">
                <li id="my-library" class="dropdown">
                    <a href="#" class="dropdown-toggle" data-submenu data-toggle="dropdown" role="button"
                        aria-haspopup="true" aria-expanded="false">
                        My library<span class="caret"></span>
                    </a>

                <ul class="dropdown-menu">
                    <li><a id ="all-books-filter" href="#">All books</a></li>
                    <li role="separator" class="divider"></li>
                    <li><a id ="paper-book-filter" href="#">Paper books</a></li>
                    <li><a id ="e-book-filter" href="#">E-books</a></li>
                    <li><a id ="audiobook-filter" href="#">Audiobooks</a></li>
                    <li role="separator" class="divider"></li>
                    <li class="dropdown-header">Search by</li>
                    <li id="open-submenu-forms" class="dropdown-submenu">
                        <a href="#" id="click-submenu-forms">Forms</a>

                        <div id="spinner-submenu-forms"></div>
                        <!--
                        <ul class="dropdown-menu">
                            <li><a class="book-form-link" data-book-form-id="1" data-book-form-type="poetry" href="#">Poetry</a></li>
                            <li><a class="book-form-link" data-book-form-id="2" data-book-form-type="prose" href="#">Prose</a></li>
                            <li><a class="book-form-link" data-book-form-id="3" data-book-form-type="drama" href="#">Drama</a></li>
                        </ul>
                        -->
                    </li>

                    <li id="open-submenu-genres" class="dropdown-submenu">
                        <a href="#" id="click-submenu-genres">Genres</a>

                        <div id="spinner-submenu-genres"></div>
                        <!--
                        <ul class="dropdown-menu">
                            <li><a class="book-genre-link" data-book-genre-id="1" data-book-genre-type="novel" href="#">Novel</a></li>
                            <li><a class="book-genre-link" data-book-genre-id="2" data-book-genre-type="reportage" href="#">Reportage</a></li>
                            <li><a class="book-genre-link" data-book-genre-id="3" data-book-genre-type="biography" href="#">Biography</a></li>
                            <li><a class="book-genre-link" data-book-genre-id="4" data-book-genre-type="interview" href="#">Interview</a></li>
                            <li><a class="book-genre-link" data-book-genre-id="5" data-book-genre-type="essay" href="#">Essay</a></li>
                            <li><a class="book-genre-link" data-book-genre-id="6" data-book-genre-type="autobiography" href="#">Autobiography</a></li>
                            <li><a class="book-genre-link" data-book-genre-id="7" data-book-genre-type="diaries" href="#">Diaries</a></li>
                            <li><a class="book-genre-link" data-book-genre-id="8" data-book-genre-type="letters" href="#">Letters</a></li>
                            <li><a class="book-genre-link" data-book-genre-id="9" data-book-genre-type="feuilleton" href="#">Feuilleton</a></li>
                        </ul>
                        -->
                    </li>
                    <li class="divider"></li>
                    <li><a id ="multi-filter" href="#">Advanced filters</a></li>
                </ul>
                </li>

                <li id="add-book-form"><a href="#add-book">Add book</a></li>
                <li id="wish-list-page"><a href="#wish-list">Wish list</a></li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <div id="container"></div>
    </div><!-- /.container -->

    <!-- HBS Temlates -->
    <script id="home" type="text/x-handlebars-template">
        <div class="starter-template">
            <h1>{{title}}</h1>
            <p class="lead">{{subtitle}}</p>
            <img src="img/buka-hatifnaty.png" />
        </div>
    </script>

    <script id="add-edit-book" type="text/x-handlebars-template">
        <div class="spacer">
            <h2>{{title}}</h2>
        </div>
        <form class="form-horizontal">
            <input type="hidden" class="form-control" id="inputBookId" value="{{book.id}}">
        <div class="form-group">
            <label for="inputBookTitle" class="col-sm-2 control-label">Title</label>
            <div class="col-sm-10">
            <input type="text" class="form-control" id="inputBookTitle" placeholder="Title" value="{{book.title}}">
            </div>
        </div>
        <div class="form-group">
            <label for="inputBookAuthor" class="col-sm-2 control-label">Author</label>
            <div class="col-sm-10">
            <input type="text" class="form-control" id="inputBookAuthor" placeholder="Author" value="{{book.author}}">
            </div>
        </div>
        <div class="form-group">
            <label for="inputBookDescription" class="col-sm-2 control-label">Description</label>
            <div class="col-sm-10">
            <textarea class="form-control" rows="3" id="inputBookDescription" placeholder="Description">{{book.description}}</textarea>
            </div>
        </div>
        <div class="form-group">
            <label for="singleType" class="col-sm-2 control-label">Type</label>
            <div class="col-sm-10">
            <select name="singleType" id="singleType" class="form-control">
                <option value="">-- choose type --</option>
                {{#each bookTypes}}
                <option value="{{id}}" {{selected id ../book.bookTypeId}}>{{type}}</option>
                {{/each}}
            </select>
            </div>
        </div>
        <div class="form-group">
            <label for="singleForm" class="col-sm-2 control-label">Form</label>
            <div class="col-sm-10">
            <select name="singleForm" id="singleForm" class="form-control">
                <option value="">-- choose form --</option>
                {{#each bookForms}}
                <option value="{{id}}" {{selected id ../book.bookFormId}}>{{type}}</option>
                {{/each}}
            </select>
            </div>
        </div>
        <div class="form-group">
            <label for="singleGenre" class="col-sm-2 control-label">Genre</label>
            <div class="col-sm-10">
            <select name="singleGenre" id="singleGenre" class="form-control">
                <option value="">-- choose genre --</option>
                {{#each bookGenres}}
                <option value="{{id}}" {{selected id ../book.bookGenreId}}>{{type}}</option>
                {{/each}}
            </select>
            </div>
        </div>
        <div id="display-borrowed-checkbox" class="form-group" {{#unless displayBorrowedCheckbox}}style="display: none"{{/unless}}>
            <div class="col-sm-offset-2 col-sm-10">
            <div class="checkbox">
                <label>
                <input type="checkbox" id="borrowedCheckbox" {{#if book.borrowed}}checked{{/if}}> Is borrowed?
                <!-- Handlebars if helper:
                http://stackoverflow.com/questions/16797095/handlebars-conditional-checked-property-from-jade-template
                book.borrowed - wskazuje na odpowiedni klucz obiektu book, kt wartość jest sprawdzana -->
                </label>
            </div>
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
            {{#if book.id}}
            <button type="submit" id="save-changes-btn" class="btn btn-success">Save</button>
            {{else}}
            <button type="submit" id="add-book-btn" class="btn btn-success">Add</button>
            {{/if}}
            <button id="cancel-btn-link" type="button" class="btn btn-link">Cancel</button>
            </div>
        </div>
        </form>
    </script>

    <script id="filter-books" type="text/x-handlebars-template">
        <div class="spacer">
            <h2>{{title}}</h2>
        </div>
        <div>
            <label class="block text-uppercase">Book types</label>
            {{#each types}}
            <label class="checkbox-inline">
                <input type="checkbox" class="checkbox-book-type" data-book-type-id={{id}} data-book-type-type={{type}}> {{type}}
            </label>
            {{/each}}
        </div>
        <hr>
        <div>
            <label class="block text-uppercase">Book forms</label>
            {{#each forms}}
            <label class="checkbox-inline">
                <input type="checkbox" class="checkbox-book-form" data-book-form-id={{id}} data-book-form-type={{type}}> {{type}}
            </label>
            {{/each}}
        </div>
        <hr>
        <div>
            <label class="block text-uppercase">Book genres</label>
            {{#each genres}}
            <label class="checkbox-inline">
                <input type="checkbox" class="checkbox-book-genre" data-book-genre-id={{id}} data-book-genre-type={{type}}> {{type}}
            </label>
            {{/each}}
        </div>
        <hr>
        <div>
            <label class="block text-uppercase">Is borrowed?</label>
            <label class="radio-inline">
                <input type="radio" name="inlineRadioIsBorrowed" id="inlineRadioTrue" value="true"> Yes
            </label>
            <label class="radio-inline">
                <input type="radio" name="inlineRadioIsBorrowed" id="inlineRadioFalse" value="false"> No
            </label>
            <label class="radio-inline">
                <input type="radio" name="inlineRadioIsBorrowed" id="inlineRadioAll" value=""> I don't care
            </label>
        </div>
        <div class="row-separator-top">
            <button type="button" id="search-books-btn" class="btn btn-primary">Search</button>
        </div>
    </script>

    <script id="wish-list" type="text/x-handlebars-template">
        <div>
            <h2>{{title}}</h2>
        </div>
    </script>

    <script id="books-list" type="text/x-handlebars-template">
        <p>
            <h2>{{header}}</h2>
            <p>Total: <kbd><strong>{{books.length}}</strong></kbd></p>
        </p>
        <ol>
        {{#each books}}
            <li>
                <div class="row-separator">
                    <i>{{title}}</i>, <strong>{{author}}</strong>
                    <p>{{description}}</p>
                </div>
            </li>
        <button id="delete-book-btn" data-book-id={{id}} type="button" class="btn btn-default-delete btn-sm">
            <span class="glyphicon glyphicon-trash" aria-hidden="true"></span> Delete
        </button>
        <button id="edit-book-btn" data-book-id={{id}} type="button" class="btn btn-default-edit btn-sm">
            <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Edit
        </button>
        {{/each}}
        </ol>
    </script>

    <script id="submenu-forms" type="text/x-handlebars-template">
        <ul class="dropdown-menu">
            {{#each forms}}
            <li><a class="book-form-link" data-book-form-id={{id}} data-book-form-type={{type}} href="#">{{capitalize this.type}}</a></li>
            {{/each}}
        </ul>
    </script>

    <script id="submenu-genres" type="text/x-handlebars-template">
        <ul class="dropdown-menu">
            {{#each genres}}
            <li><a class="book-genre-link" data-book-genre-id={{id}} data-book-genre-type={{type}} href="#">{{capitalize this.type}}</a></li>
            {{/each}}
        </ul>
    </script>

    <!--
    <script id="forms" type="text/x-handlebars-template">
        <p>
            <h2>{{header}}</h2>
        </p>
        <ol>
        {{#each forms}}
            <li><a class="book-form-link" data-book-form-id={{id}} data-book-form-type={{type}} href="#">{{type}}</a></li>
        {{/each}}
        </ol>
    </script>

    <script id="genres" type="text/x-handlebars-template">
        <p>
            <h2>{{header}}</h2>
        </p>
        <ol>
        {{#each genres}}
            <li><a class="book-genre-link" data-book-genre-id={{id}} data-book-genre-type={{type}} href="#">{{type}}</a></li>
        {{/each}}
        </ol>
    </script>
    -->

</body>
</html>
